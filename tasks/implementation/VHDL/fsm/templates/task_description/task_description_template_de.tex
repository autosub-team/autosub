\documentclass[a4paper,12pt]{article}
\usepackage{a4wide}
\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{hyperref}

\usepackage[ngerman]{babel}
 
\begin{document}
\pagestyle{empty}
\setlength{\parindent}{0em} 
\section*{FSM (Finite State Machine)}

Ihre Aufgabe ist es, das Verhalten einer Entity  namens "`fsm"' zu programmieren. Die Entity ist in der angeh\"angten Datei "`fsm.vhdl"' deklariert und hat folgende Eigenschaften:

\begin{itemize}

\item Eingang: CLK vom Typ std\_logic
\item Eingang: RST vom Typ std\_logic
\item Eingang: INPUT vom Typ std\_logic\_vector mit einer L\"ange von 2   
\item Ausgang: OUTPUT vom Typ std\_logic\_vector mit einer L\"ange von 2
\item Ausgang: STATE vom Typ fsm\_state

\end{itemize}

\vspace{0.5cm}

\begin{center}
\begin{tikzpicture}
\draw node [draw,rectangle, minimum height=20mm, minimum width=35mm,rounded corners=2mm,thick](entity){};

\draw[->,thick] ($ (entity.west)+(-10mm,7.5mm) $) -- ($ (entity.west) +(0mm,7.5mm)$);
\draw node at ($ (entity.west)+(-18mm,7.5mm) $){CLK};

\draw[->,thick] ($ (entity.west)+(-10mm,0mm) $) -- ($ (entity.west) +(0mm,0mm)$);
\draw node at ($ (entity.west)+(-18mm,0mm) $){RST};

\draw[->,thick] ($ (entity.west)+(-10mm,-7.5mm) $) -- ($ (entity.west) + (0mm,-7.5mm)$);
\draw node at ($ (entity.west)+(-18mm,-7.5mm) $){INPUT};

\draw[->,thick] ($(entity.east)+(0mm,+5mm) $) -- ($(entity.east)+(+10mm,+5mm)$);
\draw node at ($ (entity.east) + (20mm,+5mm) $){OUTPUT};

\draw[->,thick] ($(entity.east)+(0mm,-5mm) $) -- ($(entity.east)+(+10mm,-5mm)$);
\draw node at ($ (entity.east) + (20mm,-5mm)$){STATE};

\draw node at ($ (entity) - (0,12mm)$){fsm};

\end{tikzpicture}
\end{center}

\vspace{0.5cm}

Ver\"andern Sie die Datei "`fsm.vhdl"' nicht!
\\

Die Entity "`fsm"' soll das Verhalten einer deterministischen Finite State Machine wiedergeben und dabei folgende Eigenschaften erf\"ullen:
\begin{itemize}
\item Ein Verhalten entsprechend dem Zustands\"ubergangsdiagramm in Abbildung \ref{state_image}. Der Eingang, welcher an den n\"achsten Zustand weitergegeben wird, und der Ausgang im n\"achsten Zustand sind an den Kanten angegeben.
\item \"Ubertragungen mit steigender Flanke des Taktsignals (Port CLK; dies ist ein rechteckiges Taktsignal)
\item  Synchrones Design: Alle neuen Ausg\"ange (Port STATE und Port OUTPUT) m\"ussen mit der steigenden Taktflanke gesetzt werden.
\item Der aktuelle Zustand muss am Ausgangsport STATE ausgegeben werden.
\item Bei einem synchronen Reset (Port RST=1, steigende Flanke des Taktsignals CLK) soll die State Machine auf einen initialen Zustand (Anfangszustand) gesetzt werden: STATE = START, OUTPUT = 00.
\end{itemize}
\vspace{0.5cm}

Programmieren Sie dieses Verhalten in der angeh\"angten Datei "`fsm\_beh.vhdl"'.\\

Der Typ fsm\_state ist in der angeh\"angten Datei "`fsm\_package.vhdl"' deklariert. Die daf\"ur ben\"otigten Pakete sind in den Dateien "`fsm\_beh.vhdl"' und "`fsm.vhdl"' bereits importiert.
\\

Um Ihre L\"osung abzugeben, senden Sie ein E-Mail mit dem Betreff "`Result Task {{ TASKNR }}"' und Ihrer Datei "`truth\_table\_beh.vhdl"'  an {{ SUBMISSIONEMAIL }}. 
\\

Viel Erfolg und m\"oge die Macht mit Ihnen sein.

\newpage

\begin{figure}[ht]
	\centering
        \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{{STATECHART}}
	\caption{Zustands\"ubergangsdiagramm, die Kanten sind mit \textit{Eingang / n\"achster Ausgang} beschriftet}
	\label{state_image}
\end{figure}

\end{document}
